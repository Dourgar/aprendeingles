<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aprende con Douglas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f1f1;
            color: #333;
            background-image: url('https://images.unsplash.com/photo-1549057442-5f6531557007?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .bg-overlay {
            background-color: rgba(255, 255, 255, 0.85);
        }
        .container {
            max-width: 1200px;
        }
        .card {
            background-color: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            padding: 2.5rem;
        }
        .correct-answer {
            color: #28a745;
            font-weight: 600;
        }
        .incorrect-answer {
            color: #dc3545;
            font-weight: 600;
        }
        .disabled-button {
            background-color: #d1d5db;
            cursor: not-allowed;
        }
        .quiz-option {
            transition: all 0.2s ease-in-out;
        }
        .quiz-option:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header-content {
            background-color: #1a2;
            color: #fff;
            border-bottom-left-radius: 16px;
            border-bottom-right-radius: 16px;
            box-shadow: 0 4px 116px rgba(0, 0, 0, 0.1);
        }
        .footer-content {
            background-color: #1a202c;
            color: #fff;
            border-top-left-radius: 16px;
            border-top-right-radius: 16px;
            box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.1);
        }
        .progress-bar-container {
            height: 20px;
            background-color: #e5e7eb;
            border-radius: 9999px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background-color: #3b82f6;
            transition: width 0.3s ease-in-out;
        }
        /* Estilos específicos del juego de memoria */
        .card-game {
            background-color: #e2e8f0;
            border-radius: 1rem;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s, background-color 0.2s;
            min-height: 120px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-weight: 600;
            user-select: none;
        }

        .card-game:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 10px rgba(0, 0, 0, 0.15);
        }
        
        .card-game.flipped {
            background-color: #a0aec0;
            color: white;
            pointer-events: none;
        }
        
        .card-game.matched {
            background-color: #48bb78;
            color: white;
            pointer-events: none;
            cursor: default;
        }
        
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<header class="w-full py-4 text-center header-content mb-8">
    <h1 class="text-3xl sm:text-4xl font-bold">
        <i class="fas fa-graduation-cap mr-3"></i>Aprende Inglés con Douglas</h1>
        </div>
        <h2 class="text-2xl sm:text-3xl font-bold">Curso Completo de Inglés Básico</h2>

        <p class="text-sm sm:text-base text-back-400 mt-2">¡Aprende y practica a tu ritmo!</p>
    </header>

    <main class="flex-grow flex justify-center items-center">
        <div id="app-container" class="container mx-auto">
            <div id="main-menu" class="card space-y-8 bg-overlay">
                <div class="text-center">
                    <img src="https://placehold.co/600x100/505ad5/ffffff?text= ¡Te damos la bienvenida!" alt="Welcome to English Module" class="mx-auto rounded-lg mb-4">
                    <p class="text-center text-lg text-gray-600"> ¡Esperamos que disfrutes de tu experiencia de aprendizaje en esta Aula Virtual!</p>
                <p>Elige un módulo para comenzar tu aventura de aprendizaje.</p>
                <p>¡Atrévete!</p>
                </div>
                <nav id="module-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></nav>
                <div class="flex justify-center gap-4 mt-4">
                    <button id="admin-button" class="bg-gray-700 text-white p-4 rounded-lg font-semibold hover:bg-gray-800 transition duration-300">
                        <i class="fas fa-user-shield mr-2"></i> Desbloquear
                    </button>
                    <a id="whatsapp-button" href="https://wa.me/?text=Hola!%20Te%20invito%20a%20este%20Curso%20Completo%20de%20Inglés%20Básico%20[https://dourgar.github.io/aprendeingles/]" target="_blank" class="bg-green-500 text-white p-4 rounded-lg font-semibold hover:bg-green-600 transition duration-300 flex items-center justify-center">
                        <i class="fab fa-whatsapp mr-2"></i> Compartir curso
                    </a>
                </div>
            </div>

            <div id="module-view" class="card space-y-8 bg-overlay hidden">
                <h2 id="module-title" class="text-3xl font-semibold text-center text-gray-700"></h2>
                <div id="module-description" class="text-center text-lg text-gray-600 mb-6"></div>
                <div id="module-media" class="text-center mb-6"></div>
                <nav id="lesson-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></nav>
                <button onclick="showMainMenu()" class="mt-4 text-gray-500 hover:text-gray-700 transition duration-300">
                    &larr; Volver a Módulos
                </button>
            </div>

            <div id="lesson-template" class="hidden">
                <div class="card space-y-6 bg-overlay">
                    <h2 id="lesson-title" class="text-3xl font-semibold text-center text-gray-700"></h2>
                    <div id="lesson-content" class="text-gray-700 space-y-4"></div>
                    <div class="flex justify-center mt-8">
                        <button onclick="showQuiz()" class="bg-teal-500 text-white py-3 px-8 rounded-full font-semibold hover:bg-teal-600 transition duration-300 transform hover:scale-105">
                            <i class="fas fa-question-circle mr-2"></i> Ir al Quiz
                        </button>
                    </div>
                    <button onclick="showModule(currentModule)" class="mt-4 text-gray-500 hover:text-gray-700 transition duration-300">
                        &larr; Volver a Lecciones
                    </button>
                </div>
            </div>

            <div id="quiz-template" class="hidden">
                <div class="card space-y-6 bg-overlay">
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-6">
                        <h2 id="quiz-title" class="text-2xl font-semibold text-gray-700"></h2>
                        <div id="timer" class="text-xl font-bold text-red-500 mt-2 sm:mt-0">15:00</div>
                    </div>
                    <div class="w-full flex items-center space-x-4 mb-6">
                        <span id="progress-text" class="font-medium text-sm text-gray-600 whitespace-nowrap">0/0</span>
                        <div class="progress-bar-container w-full">
                            <div id="progress-bar" class="progress-bar" style="width: 0%;"></div>
                        </div>
                    </div>
                    <div id="quiz-questions" class="space-y-6"></div>
                    <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mt-8">
                        <button onclick="showModule(currentModule)" class="bg-gray-500 text-white py-3 px-6 rounded-full font-semibold hover:bg-gray-600 transition duration-300 transform hover:scale-105 w-full sm:w-auto">
                            <i class="fas fa-arrow-left mr-2"></i> Regresar al Módulo
                        </button>
                        <button id="show-results-button" onclick="endQuiz()" class="bg-indigo-600 text-white py-3 px-6 rounded-full font-semibold hover:bg-indigo-700 transition duration-300 transform hover:scale-105 hidden w-full sm:w-auto">
                            <i class="fas fa-poll-h mr-2"></i> Mostrar resultados del Quiz
                        </button>
                    </div>
                    <div id="quiz-results" class="hidden mt-8 text-center">
                        <h3 class="text-3xl font-bold text-gray-800">Resultados del Quiz</h3>
                        <p id="score-text" class="text-xl mt-4"></p>
                        <button onclick="showMainMenu()" class="mt-8 bg-indigo-600 text-white py-3 px-8 rounded-full font-semibold hover:bg-indigo-700 transition duration-300 transform hover:scale-105">
                            <i class="fas fa-home mr-2"></i> Volver al Inicio
                        </button>
                    </div>
                </div>
            </div>

            <div id="matching-game-template" class="card space-y-8 bg-overlay hidden">
                <div class="text-center">
                    <h2 class="text-3xl font-semibold text-gray-700">¡A Jugar!</h2>
                    <p class="text-lg text-gray-600 mb-6">Empareja las palabras en inglés con su traducción al español.
                    </p>
                </div>
                <div id="card-container" class="grid grid-cols-4 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4"></div>
                <div class="text-center mt-8">
                    <button onclick="showMainMenu()" class="mt-4 text-gray-500 hover:text-gray-700 transition duration-300">
                        &larr; Volver al Menú Principal
                    </button>
                </div>
            </div>
            
            <div id="blocked-modal" class="modal-overlay hidden">
                <div class="modal-content">
                    <p class="text-xl font-semibold text-red-600">¡Contenido bloqueado!</p>
                    <p class="mt-4 text-lg text-gray-700">Ponte en contacto con el administrador para desbloquear este módulo.</p>
                    <button onclick="hideBlockedMessage()" class="mt-6 bg-indigo-600 text-white py-2 px-6 rounded-full font-semibold hover:bg-indigo-700 transition duration-300">
                        Cerrar
                    </button>
                </div>
            </div>
            <div id="admin-modal" class="modal-overlay hidden">
                <div class="modal-content w-full max-w-sm p-8 space-y-6">
                    <h3 class="text-2xl font-bold text-gray-800">PARA DESBLOQUEAR</h3>
                    <p class="text-gray-600"> Realiza pago móvil a 10182240 0102 04261867736 3$ (BCV) e Ingresa la contraseña para desbloquear todos los módulos.</p>
                    <input type="password" id="admin-password-input" placeholder="Contraseña" class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    <button id="unlock-button" class="w-full bg-indigo-600 text-white py-3 rounded-md font-semibold hover:bg-indigo-700 transition duration-300">
                        Desbloquear Módulos
                    </button>
                    <button onclick="hideAdminModal()" class="w-full mt-4 text-gray-500 hover:text-gray-700 transition duration-300">
                        Cancelar
                    </button>
                    <p id="admin-message" class="text-sm mt-2 hidden"></p>
                </div>
            </div>
        </div>
    </main>

    <footer class="w-full py-4 text-center footer-content mt-8">
        <p class="text-gray-400">© 2025 Aprende Inglés con Douglas. Todos los derechos reservados.</p>
        <p class="mt-2">Caracas, Venezuela. Contacto: Prof. Douglas A. García P. 0426-186-7736 email: <a href="mailto:edutic.capital@gmail.com" class="text-blue-400 hover:underline"> edutic.capital@gmail.com</a></p>
        <div class="flex justify-center mt-2 space-x-4 text-gray-500">
        </div>
            </footer>

    <script>
        const modules = {
            'modulo-1-fundamentos-comunicacion': {
                title: 'Módulo 1: Los Fundamentos de la Comunicación',
                description: 'Aprende a comunicarte desde cero con saludos, despedidas y vocabulario esencial.',
                color: 'bg-indigo-600',
                media: {
                    image: 'https://cdn.pixabay.com/photo/2016/09/01/08/25/english-1635056_960_720.jpg', 
                },
                lessons: {
                    'saludos-despedidas': {
                        title: 'Saludos y Despedidas',
                        content: `
                            <h3 class="text-2xl font-semibold">Saludos comunes</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Hello / Hi:</strong> Hola</li>
                                <li><strong>Good morning:</strong> Buenos días</li>
                                <li><strong>Good afternoon:</strong> Buenas tardes</li>
                                <li><strong>Good evening:</strong> Buenas noches (saludo)</li>
                            </ul>
                            <h3 class="text-2xl font-semibold mt-4">Despedidas comunes</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Goodbye / Bye:</strong> Adiós</li>
                                <li><strong>Good night:</strong> Buenas noches (despedida)</li>
                                <li><strong>See you later:</strong> Nos vemos luego</li>
                                <li><strong>Take care:</strong> Cuídate</li>
                            </ul>
                        <a href="https://drive.google.com/uc?export=download&id=1wer5L4oaVxPI-11iLsufdUTR8Z7ReCWj" target="_blank" class="bg-blue-500 text-white py-2 px-6 rounded-full font-semibold hover:bg-blue-600 transition duration-300 transform hover:scale-105 inline-flex items-center">
                                    <i class="fas fa-download mr-2"></i> Descargar PDF de Saludos y Despedidas
                                </a>
                                <audio controls class="w-full md:w-1/2">
  <source src="https://archive.org/download/voicertool_audio_Dalia_08-15-25_topic1/voicertool_audio_Dalia_08-15-25_topic1.mp3" type="audio/mpeg">
  Tu navegador no soporta el elemento de audio.
</audio>                                <p class="text-sm mt-2 text-gray-500">Audio: Saludos y Despedidas</p>
                            </div>
                        `,
                        quiz: [
                            { type: 'multiple-choice', question: '¿Cuál usarías para despedirte en la noche?', options: ['Good evening', 'Good night', 'Good morning'], answer: 'Good night' },
                            { type: 'true-false', question: '¿"Hi" y "Hello" tienen el mismo significado?', answer: true },
                            { type: 'fill-in-the-blank', question: 'Completa: "It\'s late, time to say _____."', answer: 'goodbye' },
                            { type: 'multiple-choice', question: 'Si es mediodía, ¿qué saludo es el más adecuado?', options: ['Good morning', 'Good afternoon', 'Good evening'], answer: 'Good afternoon' },
                            { type: 'true-false', question: '¿"Take care" significa "cuídate"?', answer: true },
                            { type: 'fill-in-the-blank', question: 'Completa: "I am going to the store, _____."', answer: 'see you later' }
                        ]
                    },
                    'pronombres-personales': {
                        title: 'Pronombres Personales (Personal Pronouns)',
                        content: `
                            <h3 class="text-2xl font-semibold">Concepto</h3>
                            <p>Son palabras que reemplazan a los sustantivos para referirse a una persona, animal o cosa.</p>
                            <h3 class="text-2xl font-semibold mt-4">Pronombres</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>I = </strong> yo - Para referirse a uno mismo.</li>
                                <li><strong>You = </strong> tú, usted, ustedes - Para referirse a la persona o personas con las que se habla. </li>
                                <li><strong>He = </strong> él - Para referirse a un hombre o chico. </li>
                                <li><strong>She = </strong> ella - Para referirse a una mujer o chica. </li>
                                <li><strong>It = </strong> eso - Para referirse a objetos, animales o situaciones, o en general para cosas en singular.</li>
                                <li><strong>We = </strong> nosotros/as - Para referirse a uno mismo y otras personas. </li>
                                <li><strong>They = </strong> ellos/as - Para referirse a un grupo de personas, animales u objetos. </li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Cuál es el pronombre para "ella"?', options: ['He', 'She', 'It'], answer: 'She' },
                            { type: 'true-false', question: '¿"You" solo se usa para singular?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "_____ are my friends." (Ellos)', answer: 'They' },
                            { type: 'multiple-choice', question: '¿Qué pronombre usarías para referirte a un perro?', options: ['He', 'It', 'She'], answer: 'It' },
                            { type: 'true-false', question: '¿"We" significa "tú y yo"?', answer: true },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "_____ is a good student." (Él)', answer: 'He' }
                        ]
                    },
                }
            },
            'modulo-2-sustantivos-adjetivos': {
                title: 'Módulo 2: Sustantivos y Adjetivos',
                description: 'Aprende los conceptos más básicos sobre los sustantivos, los adjetivos y los pronombres, el punto de partida perfecto para tu viaje por la gramática inglesa.',
                color: 'bg-teal-500',
                media: {
                    document: [
                        { url: 'https://www.cambridgeenglish.org/images/starters-word-list-picture-book.pdf', name: 'Guía de Gramática Básica' }
                    ],
                    audio: { url: 'https://drive.google.com/uc?export=download&id=1ugAu8R7v-dPyl_ztvtoZPQdei1YRHBdW', name: 'Introducción a la Gramática' }
                },
                lessons: {
                    'adjetivos-posesivos': {
                        title: 'Adjetivos Posesivos (Possessive Adjectives)',
                        content: `
                            <h3 class="text-2xl font-semibold">Concepto</h3>
                            <p>Los adjetivos posesivos indican a quién o a quiénes le pertenece algo. Se usan siempre junto a un sustantivo (noun).</p>
                            <h3 class="text-2xl font-semibold mt-4">Regla principal</h3>
                            <p>Se colocan <strong>antes</strong> del sustantivo que describen.</p>
                            <h3 class="text-2xl font-semibold mt-4">Ejemplos clave</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>My</strong> (mi/mis): <strong>My</strong> name is Ana.</li>
                                <li><strong>Your</strong> (tu/tus): <strong>Your</strong> house is big.</li>
                                <li><strong>His</strong> (su, de él): <strong>His</strong> car is red.</li>
                                <li><strong>Her</strong> (su, de ella): <strong>Her</strong> bag is small.</li>
                                <li><strong>Its</strong> (su, de eso/animal): <strong>Its</strong> tail is long.</li>
                                <li><strong>Our</strong> (nuestro/a): <strong>Our</strong> family is nice.</li>
                                <li><strong>Their</strong> (su, de ellos/as): <strong>Their</strong> dog is cute.</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Cuál es el adjetivo posesivo para "I"?', options: ['Your', 'My', 'His'], answer: 'My' },
                            { type: 'true-false', question: '¿Los adjetivos posesivos van después del sustantivo?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "This is _____ book." (You)', answer: 'your' },
                            { type: 'multiple-choice', question: 'Si la dueña es una mujer, ¿qué adjetivo posesivo usarías para referirte a su bolso?', options: ['His', 'Her', 'Our'], answer: 'Her' },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "The dog is wagging _____ tail." (It)', answer: 'its' },
                            { type: 'true-false', question: '¿"Their" se usa para un solo dueño?', answer: false },
                            { type: 'multiple-choice', question: '¿Cuál es el adjetivo posesivo para "We"?', options: ['They', 'Our', 'Your'], answer: 'Our' },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "_____ name is Pedro." (He)', answer: 'His' },
                            { type: 'true-false', question: '¿"My" solo se usa para singular?', answer: false },
                            { type: 'multiple-choice', question: '¿Qué adjetivo posesivo usarías para hablar del auto de tus amigos?', options: ['Our', 'My', 'Their'], answer: 'Their' }
                        ]
                    },
                    'adjetivos': {
                        title: 'Adjetivos (Adjectives)',
                        content: `
                            <h3 class="text-2xl font-semibold">Concepto</h3>
                            <p>Son palabras que describen sustantivos, respondiendo a las preguntas "¿cómo es?" o "¿cómo está?".</p>
                            <h3 class="text-2xl font-semibold mt-4">Reglas y consejos</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Ubicación:</strong> Los adjetivos siempre van <strong>antes</strong> del sustantivo en inglés (ejemplo: a <strong>red</strong> apple).</li>
                                <li><strong>Plural:</strong> No tienen forma plural. Si el sustantivo es plural, el adjetivo se mantiene igual (ejemplo: two <strong>delicious</strong> cookies).</li>
                                <li><strong>Género:</strong> No tienen género. Se usan de la misma forma para sustantivos masculinos o femeninos (ejemplo: a <strong>good</strong> mom, a <strong>good</strong> dad).</li>
                            </ul>
                            <h3 class="text-2xl font-semibold mt-4">Ejemplos clave</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li>A <strong>red</strong> apple (Una manzana roja)</li>
                                <li>A <strong>happy</strong> boy (Un chico feliz)</li>
                                <li>My cats are <strong>small</strong> (Mis gatos son pequeños)</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'true-false', question: '¿Los adjetivos en inglés se colocan después del sustantivo?', answer: false },
                            { type: 'multiple-choice', question: '¿Qué adjetivo describe a un sustantivo?', options: ['Run', 'Big', 'Quickly'], answer: 'Big' },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "She has a _____ house." (beautiful)', answer: 'beautiful' },
                            { type: 'true-false', question: '¿Los adjetivos tienen género en inglés?', answer: false },
                            { type: 'multiple-choice', question: '¿Cuál de estos es un adjetivo?', options: ['Walk', 'Car', 'Tall'], answer: 'Tall' },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "The _____ children are playing." (happy)', answer: 'happy' },
                            { type: 'true-false', question: '¿Los adjetivos en inglés no tienen forma plural?', answer: true },
                            { type: 'multiple-choice', question: '¿Cómo dirías "libros interesantes"?', options: ['Books interesting', 'Interesting books', 'Books are interesting'], answer: 'Interesting books' },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "The soup is _____." (hot)', answer: 'hot' },
                            { type: 'true-false', question: '¿"Good" es un adjetivo que cambia con el género?', answer: false }
                        ]
                    },
                    'pronombres-demostrativos': {
                        title: 'Pronombres Demostrativos (Demonstrative Pronouns)',
                        content: `
                            <h3 class="text-2xl font-semibold">Concepto</h3>
                            <p>Se utilizan para señalar personas, animales o cosas, e indican si están cerca o lejos.</p>
                            <h3 class="text-2xl font-semibold mt-4">Reglas principales</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Cerca:</strong> Se usa <strong>this</strong> para singular y <strong>these</strong> para plural.</li>
                                <li><strong>Lejos:</strong> Se usa <strong>that</strong> para singular y <strong>those</strong> para plural.</li>
                            </ul>
                            <h3 class="text-2xl font-semibold mt-4">Ejemplos clave</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>This</strong> is my pen. (<strong>Este</strong> es mi bolígrafo.)</li>
                                <li><strong>These</strong> are my pens. (<strong>Estos</strong> son mis bolígrafos.)</li>
                                <li><strong>That</strong> is his shoe. (<strong>Ese</strong> es su zapato.)</li>
                                <li><strong>Those</strong> are his shoes. (<strong>Esos</strong> son sus zapatos.)</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Qué pronombre usarías para señalar un libro que tienes en la mano?', options: ['That', 'These', 'This'], answer: 'This' },
                            { type: 'true-false', question: '¿"Those" se usa para cosas que están lejos y son singulares?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "I love _____ shirt." (cerca, singular)', answer: 'this' },
                            { type: 'multiple-choice', question: '¿Qué pronombre usarías para hablar de los autos que están lejos?', options: ['These', 'That', 'Those'], answer: 'Those' },
                            { type: 'true-false', question: '¿"This" y "These" se usan para referirse a cosas que están cerca?', answer: true },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "_____ are my friends." (cerca, plural)', answer: 'These' },
                            { type: 'multiple-choice', question: '¿Cuál es la forma plural de "That"?', options: ['This', 'Those', 'These'], answer: 'Those' },
                            { type: 'true-false', question: '¿"That" se usa para cosas que están lejos?', answer: true },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "Look at _____ bird over there." (lejos, singular)', answer: 'that' },
                            { type: 'multiple-choice', question: '¿Qué pronombre usarías para hablar de varios libros que están en la mesa de enfrente?', options: ['These', 'Those', 'This'], answer: 'Those' }
                        ]
                    }
                }
            },
            'modulo-3-construccion-oraciones': {
                title: 'Módulo 3: Construcción de Oraciones',
                description: 'Domina los componentes esenciales para formar frases completas y expresarte con claridad, incluyendo preguntas y preposiciones.',
                color: 'bg-green-600',
                lessons: {
                    'articulos-y-preposiciones': {
                        title: 'Artículos y Preposiciones',
                        content: `
                            <h3 class="text-2xl font-semibold">Artículos (a, an, the)</h3>
                            <p>Los artículos se usan antes de los sustantivos para dar más información sobre ellos.</p>
                            <ul class="list-disc list-inside space-y-2 mt-2">
                                <li><strong>A/An:</strong> Se usan para cosas no específicas o la primera vez que se mencionan. <strong>An</strong> se usa antes de una vocal (a, e, i, o, u).</li>
                                <li><strong>The:</strong> Se usa para cosas específicas, que ya son conocidas por el oyente.</li>
                            </ul>
                            <h3 class="text-2xl font-semibold mt-4">Preposiciones de lugar (in, on, at)</h3>
                            <p>Indican la ubicación de algo.</p>
                            <ul class="list-disc list-inside space-y-2 mt-2">
                                <li><strong>In:</strong> Dentro de un lugar (in the box).</li>
                                <li><strong>On:</strong> Sobre una superficie (on the table).</li>
                                <li><strong>At:</strong> En un lugar específico o punto (at the park).</li>
                            </ul>
                            <h3 class="text-2xl font-semibold mt-4">Preposiciones de tiempo (in, on, at)</h3>
                            <ul class="list-disc list-inside space-y-2 mt-2">
                                <li><strong>In:</strong> para meses, años, estaciones (in December, in 1990, in summer)</li>
                                <li><strong>On:</strong> para días de la semana y fechas específicas (on Monday, on July 10th)</li>
                                <li><strong>At:</strong> para horas y momentos específicos del día (at 7 pm, at noon, at night)</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Qué artículo usarías en la frase: "I saw _____ elephant"?', options: ['a', 'an', 'the'], answer: 'an' },
                            { type: 'true-false', question: '¿"The" se usa para algo no específico?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "The book is _____ the desk."', answer: 'on' },
                            { type: 'multiple-choice', question: '¿Qué preposición usarías para decir que estás en un edificio?', options: ['on', 'in', 'at'], answer: 'in' },
                            { type: 'true-false', question: '¿"A" se usa antes de una palabra que empieza con vocal?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "I am _____ the train station."', answer: 'at' }
                        ]
                    },
                    'wh-questions': {
                        title: 'Preguntas (Wh- Questions)',
                        content: `
                            <h3 class="text-2xl font-semibold">Concepto</h3>
                            <p>Las palabras con 'Wh-' se usan para hacer preguntas específicas.</p>
                            <ul class="list-disc list-inside space-y-2 mt-2">
                                <li><strong>What:</strong> ¿Qué? (para cosas)</li>
                                <li><strong>Where:</strong> ¿Dónde? (para lugares)</li>
                                <li><strong>When:</strong> ¿Cuándo? (para tiempo)</li>
                                <li><strong>Why:</strong> ¿Por qué? (para razones)</li>
                                <li><strong>Who:</strong> ¿Quién? (para personas)</li>
                                <li><strong>How:</strong> ¿Cómo? (para la manera o estado)</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: 'Para preguntar por la hora de una fiesta, usarías:', options: ['Who', 'What', 'When'], answer: 'When' },
                            { type: 'true-false', question: '¿"Where" se usa para preguntar sobre una persona?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "_____ are you going?"', answer: 'Where' },
                            { type: 'multiple-choice', question: '¿Cómo preguntarías por la razón de algo?', options: ['Why', 'What', 'How'], answer: 'Why' },
                            { type: 'true-false', question: '¿"Who" se usa para preguntar sobre cosas?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "_____ is your name?"', answer: 'What' }
                        ]
                    }
                }
            },
            'modulo-4-adjetivos-adverbios': {
                title: 'Módulo 4: Adjetivos y Adverbios',
                description: 'Aprende a describir personas, objetos y acciones con más precisión, incluyendo comparativos, superlativos y adverbios.',
                color: 'bg-yellow-500',
                lessons: {
                    'adjetivos-comparativos-superlativos': {
                        title: 'Comparativos y Superlativos',
                        content: `
                            <h3 class="text-2xl font-semibold">Adjetivos Comparativos</h3>
                            <p>Se usan para comparar dos cosas o personas. Reglas:</p>
                            <ul class="list-disc list-inside space-y-2">
                                <li>Para adjetivos cortos (una sílaba): se añade <strong>-er</strong> (ej. big -> bigger).</li>
                                <li>Para adjetivos largos (dos o más sílabas): se usa <strong>more</strong> antes del adjetivo (ej. beautiful -> more beautiful).</li>
                                <li>Se usa <strong>than</strong> después del adjetivo para la comparación (ej. taller than).</li>
                            </ul>
                            <h3 class="text-2xl font-semibold mt-4">Adjetivos Superlativos</h3>
                            <p>Se usan para comparar una cosa o persona con un grupo. Reglas:</p>
                            <ul class="list-disc list-inside space-y-2">
                                <li>Para adjetivos cortos: se añade <strong>-est</strong> (ej. big -> the biggest).</li>
                                <li>Para adjetivos largos: se usa <strong>most</strong> antes del adjetivo (ej. beautiful -> the most beautiful).</li>
                                <li>Siempre se usa el artículo <strong>the</strong>.</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Cómo se forma el comparativo de "small"?', options: ['more small', 'smalles', 'smaller'], answer: 'smaller' },
                            { type: 'true-false', question: '¿"The most tall" es la forma superlativa correcta?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "This is the _____ book I have." (interesting)', answer: 'most interesting' },
                            { type: 'multiple-choice', question: '¿Cuál de estas frases es un superlativo?', options: ['He is older than me', 'She is the fastest runner', 'This car is more expensive'], answer: 'She is the fastest runner' },
                            { type: 'true-false', question: '¿Se usa "than" en los superlativos?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "My dog is _____ than your cat." (big)', answer: 'bigger' }
                        ]
                    },
                    'adverbios': {
                        title: 'Adverbios (Adverbs)',
                        content: `
                            <h3 class="text-2xl font-semibold">Concepto</h3>
                            <p>Los adverbios modifican verbos, adjetivos u otros adverbios. A menudo, se forman añadiendo <strong>-ly</strong> a un adjetivo.</p>
                            <h3 class="text-2xl font-semibold mt-4">Ejemplos clave</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Quick</strong> (rápido, adjetivo) -> <strong>Quickly</strong> (rápidamente, adverbio)</li>
                                <li><strong>Slow</strong> (lento) -> <strong>Slowly</strong> (lentamente)</li>
                                <li><strong>Careful</strong> (cuidadoso) -> <strong>Carefully</strong> (cuidadosamente)</li>
                                <li><strong>Happy</strong> (feliz) -> <strong>Happily</strong> (felizmente)</li>
                            </ul>
                            <h3 class="text-2xl font-semibold mt-4">Casos especiales</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Good</strong> (adjetivo) -> <strong>Well</strong> (adverbio)</li>
                                <li><strong>Fast</strong> (adjetivo) -> <strong>Fast</strong> (adverbio)</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Qué palabra describe un verbo?', options: ['Adjetivo', 'Adverbio', 'Sustantivo'], answer: 'Adverbio' },
                            { type: 'true-false', question: '¿"She sings beautifully" usa un adverbio?', answer: true },
                            { type: 'fill-in-the-blank', question: 'Convierte el adjetivo "quiet" a adverbio:', answer: 'quietly' },
                            { type: 'multiple-choice', question: '¿Cuál es el adverbio de "good"?', options: ['goodly', 'better', 'well'], answer: 'well' },
                            { type: 'true-false', question: '¿"Fast" es un adverbio?', answer: true },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "He speaks English _____." (fluent)', answer: 'fluently' }
                        ]
                    }
                }
            },
            'modulo-5-verbos-tiempos': {
                title: 'Módulo 5: Verbos y Tiempos Verbales',
                description: 'Aprende los conceptos clave sobre los verbos y sus tiempos. Es un paso fundamental para comenzar a formar oraciones más complejas.',
                color: 'bg-red-500',
                lessons: {
                    'tiempos-verbales-clave': {
                        title: 'Tiempos Verbales Clave',
                        content: `
                            <h3 class="text-2xl font-semibold">Presente Simple (Simple Present)</h3>
                            <p>Se usa para hablar de acciones habituales o hechos en el presente. Para <strong>he, she, it</strong>, se añade una <strong>-s</strong> al verbo.</p>
                            <h4 class="text-xl font-semibold mt-2">Ejemplos:</h4>
                            <ul class="list-disc list-inside space-y-1">
                                <li>I **work** every day.</li>
                                <li>He **works** at a bank.</li>
                            </ul>

                            <h3 class="text-2xl font-semibold mt-4">Presente Continuo (Present Continuous)</h3>
                            <p>Se usa para acciones que están ocurriendo ahora. Se forma con el verbo <strong>to be</strong> y el verbo principal con <strong>-ing</strong>.</p>
                            <h4 class="text-xl font-semibold mt-2">Ejemplos:</h4>
                            <ul class="list-disc list-inside space-y-1">
                                <li>I **am eating** lunch right now.</li>
                                <li>They **are watching** a movie.</li>
                            </ul>

                            <h3 class="text-2xl font-semibold mt-4">Pasado Simple (Simple Past)</h3>
                            <p>Se usa para acciones que comenzaron y terminaron en el pasado. Se añade <strong>-ed</strong> a los verbos regulares y se memorizan los irregulares.</p>
                            <h4 class="text-xl font-semibold mt-2">Ejemplos:</h4>
                            <ul class="list-disc list-inside space-y-1">
                                <li>She **walked** to the store.</li>
                                <li>He **went** to the park.</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Cómo se conjuga el verbo "to work" con "She" en Presente Simple?', options: ['work', 'works', 'working'], answer: 'works' },
                            { type: 'true-false', question: '¿El presente continuo se usa para hablar de hábitos?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase en Pasado Simple: "They _____ to the beach yesterday." (go)', answer: 'went' },
                            { type: 'multiple-choice', question: '¿Cuál es la forma correcta para "she" en Presente Continuo?', options: ['She is cooking', 'She are cooking', 'She cooking'], answer: 'She is cooking' },
                            { type: 'true-false', question: '¿El verbo "to study" con "I" en presente simple se conjuga como "I studies"?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase en Presente Simple: "He _____ to the park every day." (go)', answer: 'goes' }
                        ]
                    },
                    'verbo-to-be': {
                        title: 'Verbo "To Be"',
                        content: `
                            <h3 class="text-2xl font-semibold">Concepto</h3>
                            <p>El verbo <strong>to be</strong> (ser/estar) es uno de los más importantes en inglés y se usa para describir estados o identidades. Se conjuga de manera diferente para cada pronombre.</p>
                            <h3 class="text-2xl font-semibold mt-4">Conjugación</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>I am</strong> (yo soy/estoy)</li>
                                <li><strong>You are</strong> (tú eres/estás)</li>
                                <li><strong>He/She/It is</strong> (él/ella/eso es/está)</li>
                                <li><strong>We are</strong> (nosotros somos/estamos)</li>
                                <li><strong>They are</strong> (ellos son/están)</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Qué conjugación va con "She"?', options: ['am', 'are', 'is'], answer: 'is' },
                            { type: 'true-false', question: '¿"I is happy" es una frase correcta?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "They _____ students."', answer: 'are' },
                            { type: 'multiple-choice', question: '¿Cuál es el significado de "I am happy"?', options: ['Yo tengo suerte', 'Yo soy feliz', 'Yo quiero suerte'], answer: 'Yo soy feliz' },
                            { type: 'true-false', question: '¿"We are friends" es una frase correcta?', answer: true },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "He _____ a doctor."', answer: 'is' }
                        ]
                    },
                    'verbos-modales': {
                        title: 'Verbos Modales (Modal Verbs)',
                        content: `
                            <h3 class="text-2xl font-semibold">Concepto</h3>
                            <p>Son verbos auxiliares que expresan habilidad, posibilidad, permiso, o necesidad. No cambian su forma según la persona y se usan seguidos de otro verbo en su forma base (infinitivo sin "to").</p>
                            <h3 class="text-2xl font-semibold mt-4">Ejemplos clave</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Can:</strong> (poder, habilidad) - I **can** swim.</li>
                                <li><strong>Could:</strong> (podría, habilidad en pasado o posibilidad) - He **could** play the piano.</li>
                                <li><strong>May:</strong> (poder, permiso o posibilidad) - You **may** enter.</li>
                                <li><strong>Might:</strong> (poder, menor posibilidad) - It **might** rain.</li>
                                <li><strong>Must:</strong> (deber, obligación) - You **must** study.</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Qué verbo modal usarías para hablar de una habilidad?', options: ['Must', 'May', 'Can'], answer: 'Can' },
                            { type: 'true-false', question: '¿"She cans speak English" es una frase correcta?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "It _____ rain tomorrow." (posibilidad)', answer: 'might' },
                            { type: 'multiple-choice', question: '¿Qué significa "You must go"?', options: ['Puedes ir', 'Debes ir', 'Quizás vayas'], answer: 'Debes ir' },
                            { type: 'true-false', question: '¿Los verbos modales se conjugan según la persona?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "_____ I come in?" (permiso)', answer: 'May' }
                        ]
                    }
                }
            },
            'modulo-6-frases-expresiones': {
                title: 'Módulo 6: Verbos Frasales y Expresiones',
                description: 'Aprende los verbos frasales más comunes para mejorar tu fluidez y sonar como un hablante nativo.',
                color: 'bg-orange-500',
                lessons: {
                    'verbos-frasales-comunes': {
                        title: 'Verbos Frasales Comunes',
                        content: `
                            <h3 class="text-2xl font-semibold">¿Qué es un verbo frasal?</h3>
                            <p>Un verbo frasal es una combinación de un verbo y una o dos preposiciones o adverbios que, en conjunto, adquieren un nuevo significado. A menudo, el significado no se puede deducir de las palabras por separado.</p>
                            <h3 class="text-2xl font-semibold mt-4">Verbos frasales clave</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Look up:</strong> buscar información en una lista o diccionario. <br><em>Ejemplo: I need to <strong>look up</strong> this word.</em> </li>
                                <li><strong>Give up:</strong> rendirse, dejar de intentar. <br><em>Ejemplo: Don't <strong>give up</strong>! You can do it.</em> </li>
                                <li><strong>Take off:</strong> despegar (un avión) o quitarse la ropa. <br><em>Ejemplo: The plane will <strong>take off</strong> in an hour.</em> </li>
                                <li><strong>Put on:</strong> ponerse ropa. <br><em>Ejemplo: It's cold outside, you should <strong>put on</strong> a jacket.</em> </li>
                                <li><strong>Get up:</strong> levantarse (de la cama). <br><em>Ejemplo: I <strong>get up</strong> at 7 am every morning.</em> </li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Qué significa el verbo frasal "look up"?', options: ['Mirar arriba', 'Buscar información', 'Subir'], answer: 'Buscar información' },
                            { type: 'true-false', question: '¿"Give up" significa "dar algo"?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "I always _____ early on weekends." (get up)', answer: 'get up' },
                            { type: 'multiple-choice', question: '¿Cuál es el significado de "take off" en un aeropuerto?', options: ['Despegar', 'Desactivar', 'Quitarse'], answer: 'Despegar' },
                            { type: 'true-false', question: '¿"Put on" significa "ponerse ropa"?', answer: true },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "I don\'t want to _____ on my dream." (give up)', answer: 'give up' }
                        ]
                    }
                }
            },
            'modulo-7-vocabulario-esencial': {
                title: 'Módulo 7: Vocabulario Esencial',
                description: 'Expande tu conocimiento de palabras en inglés con lecciones prácticas sobre temas cotidianos.',
                color: 'bg-pink-500',
                lessons: {
                    'la-familia': {
                        title: 'La Familia (The Family)',
                        content: `
                            <h3 class="text-2xl font-semibold">Miembros de la Familia</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Father:</strong> padre</li>
                                <li><strong>Mother:</strong> madre</li>
                                <li><strong>Son:</strong> hijo</li>
                                <li><strong>Daughter:</strong> hija</li>
                                <li><strong>Brother:</strong> hermano</li>
                                <li><strong>Sister:</strong> hermana</li>
                                <li><strong>Grandfather:</strong> abuelo</li>
                                <li><strong>Grandmother:</strong> abuela</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Cómo se dice "hermana" en inglés?', options: ['Sister', 'Brother', 'Mother'], answer: 'Sister' },
                            { type: 'true-false', question: '¿"Father" significa "abuelo"?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "My mom has a brother, he is my _____."', answer: 'uncle' },
                            { type: 'multiple-choice', question: '¿Cómo se dice "hija"?', options: ['Son', 'Daughter', 'Sister'], answer: 'Daughter' },
                            { type: 'true-false', question: '¿"Grandmother" significa "bisabuela"?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "My father\'s father is my _____."', answer: 'grandfather' }
                        ]
                    },
                    'la-comida': {
                        title: 'La Comida (The Food)',
                        content: `
                            <h3 class="text-2xl font-semibold">Comidas y Bebidas</h3>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Breakfast:</strong> desayuno</li>
                                <li><strong>Lunch:</strong> almuerzo</li>
                                <li><strong>Dinner:</strong> cena</li>
                                <li><strong>Water:</strong> agua</li>
                                <li><strong>Milk:</strong> leche</li>
                                <li><strong>Bread:</strong> pan</li>
                                <li><strong>Cheese:</strong> queso</li>
                                <li><strong>Chicken:</strong> pollo</li>
                            </ul>
                        `,
                        media: {
                            document: [
                                { url: '#', name: 'Descargar Lección en PDF' }
                            ]
                        },
                        quiz: [
                            { type: 'multiple-choice', question: '¿Cómo se dice "desayuno"?', options: ['Lunch', 'Breakfast', 'Dinner'], answer: 'Breakfast' },
                            { type: 'true-false', question: '¿"Dinner" es la comida de la mañana?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "For lunch, I want to eat a sandwich with _____."', answer: 'cheese' },
                            { type: 'multiple-choice', question: '¿Cuál de estos es una bebida?', options: ['Bread', 'Chicken', 'Water'], answer: 'Water' },
                            { type: 'true-false', question: '¿"Chicken" es una verdura?', answer: false },
                            { type: 'fill-in-the-blank', question: 'Completa la frase: "My favorite dinner is _____ and rice."', answer: 'chicken' }
                        ]
                    }
                }
            },
            'modulo-8-juego': {
                title: '¡A jugar!',
                description: 'Pon a prueba tu memoria con un divertido juego de emparejar palabras en inglés con su traducción al español.',
                color: 'bg-purple-600',
                game: true
            },
        };
        
        const blockedModules = [
            'modulo-2-sustantivos-adjetivos',
            'modulo-3-construccion-oraciones',
            'modulo-4-adjetivos-adverbios',
            'modulo-5-verbos-tiempos',
            'modulo-6-frases-expresiones',
            'modulo-7-vocabulario-esencial',
            'modulo-8-juego'
        ];

        let currentModule = null;
        let currentLesson = null;
        let quizQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timerId = null;
        let timeLeft = 900; // 10 minutes in seconds

        const mainMenu = document.getElementById('main-menu');
        const moduleList = document.getElementById('module-list');
        const moduleView = document.getElementById('module-view');
        const moduleTitle = document.getElementById('module-title');
        const moduleDescription = document.getElementById('module-description');
        const moduleMedia = document.getElementById('module-media');
        const lessonList = document.getElementById('lesson-list');
        const lessonTemplate = document.getElementById('lesson-template');
        const quizTemplate = document.getElementById('quiz-template');
        const quizTitle = document.getElementById('quiz-title');
        const quizQuestionsContainer = document.getElementById('quiz-questions');
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const showResultsButton = document.getElementById('show-results-button');
        const quizResults = document.getElementById('quiz-results');
        const scoreText = document.getElementById('score-text');
        const timerElement = document.getElementById('timer');
        const blockedModal = document.getElementById('blocked-modal');
        const adminButton = document.getElementById('admin-button');
        const adminModal = document.getElementById('admin-modal');
        const unlockButton = document.getElementById('unlock-button');
        const adminPasswordInput = document.getElementById('admin-password-input');
        const adminMessage = document.getElementById('admin-message');
        const matchingGameTemplate = document.getElementById('matching-game-template');

        let isAllModulesUnlocked = false;
        let userProgress = {};

        function saveProgress() {
            localStorage.setItem('userProgress', JSON.stringify(userProgress));
            localStorage.setItem('isAllModulesUnlocked', isAllModulesUnlocked);
        }

        function loadProgress() {
            const savedProgress = localStorage.getItem('userProgress');
            if (savedProgress) {
                userProgress = JSON.parse(savedProgress);
            }
            isAllModulesUnlocked = localStorage.getItem('isAllModulesUnlocked') === 'true';
        }

        function toggleModuleBlocked(moduleId, isBlocked) {
            const moduleCard = document.querySelector(`.module-card[data-id="${moduleId}"]`);
            if (moduleCard) {
                if (isBlocked) {
                    moduleCard.classList.add('opacity-50', 'cursor-not-allowed');
                    moduleCard.querySelector('.block-overlay').classList.remove('hidden');
                } else {
                    moduleCard.classList.remove('opacity-50', 'cursor-not-allowed');
                    moduleCard.querySelector('.block-overlay').classList.add('hidden');
                }
            }
        }

        function showMainMenu() {
            hideAllViews();
            mainMenu.classList.remove('hidden');
            if (isAllModulesUnlocked) {
                adminButton.classList.add('hidden');
            } else {
                adminButton.classList.remove('hidden');
            }
            renderModules();
        }

        function renderModules() {
            moduleList.innerHTML = '';
            const moduleKeys = Object.keys(modules);
            moduleKeys.forEach(key => {
                const module = modules[key];
                const moduleCard = document.createElement('div');
                moduleCard.className = `relative card p-6 text-center transform transition duration-300 hover:scale-105 hover:shadow-xl cursor-pointer ${module.color || 'bg-gray-100'}`;
                moduleCard.dataset.id = key;

                const isBlocked = !isAllModulesUnlocked && blockedModules.includes(key);
                const isDarkBackground = ['bg-indigo-600', 'bg-teal-500', 'bg-green-600', 'bg-red-500', 'bg-orange-500', 'bg-pink-500', 'bg-purple-600'].includes(module.color);
                
                moduleCard.innerHTML = `
                    <div class="space-y-4">
                        <i class="fas fa-book-open text-4xl ${isDarkBackground ? 'text-white' : 'text-gray-600'}"></i>
                        <h3 class="text-2xl font-bold ${isDarkBackground ? 'text-white' : 'text-gray-800'}">${module.title}</h3>
                        <p class="text-gray-600 ${isDarkBackground ? 'text-white' : 'text-gray-600'}">${module.description}</p>
                    </div>
                    ${isBlocked ? '<div class="absolute inset-0 bg-white bg-opacity-70 flex items-center justify-center rounded-lg block-overlay"><i class="fas fa-lock text-4xl text-red-500"></i></div>' : ''}
                `;

                if (isBlocked) {
                    moduleCard.onclick = () => showBlockedMessage();
                } else {
                    moduleCard.onclick = () => showModule(key);
                }

                moduleList.appendChild(moduleCard);
            });
        }

        function showModule(moduleId) {
            currentModule = moduleId;
            const module = modules[currentModule];

            if (module.game) {
                hideAllViews();
                matchingGameTemplate.classList.remove('hidden');
                setupMatchingGame();
                return;
            }
            
            hideAllViews();
            moduleView.classList.remove('hidden');
            moduleTitle.textContent = module.title;
            moduleDescription.textContent = module.description;
            renderModuleMedia(module.media);
            renderLessons(module.lessons);
        }
        
        function renderMedia(media, container) {
            container.innerHTML = '';
            if (media && media.document) {
                if (Array.isArray(media.document)) {
                    media.document.forEach(doc => {
                        const docLink = document.createElement('a');
                        docLink.href = doc.url;
                        docLink.className = 'mr-2 bg-gray-200 text-gray-800 py-2 px-4 rounded-full inline-flex items-center hover:bg-gray-300 transition duration-300';
                        docLink.innerHTML = `<i class="fas fa-file-pdf mr-2"></i> ${doc.name}`;
                        docLink.target = '_blank';
                        container.appendChild(docLink);
                    });
                } else {
                    const docLink = document.createElement('a');
                    docLink.href = media.document.url;
                    docLink.className = 'mr-2 bg-gray-200 text-gray-800 py-2 px-4 rounded-full inline-flex items-center hover:bg-gray-300 transition duration-300';
                    docLink.innerHTML = `<i class="fas fa-file-pdf mr-2"></i> ${media.document.name}`;
                    docLink.target = '_blank';
                    container.appendChild(docLink);
                }
            }
            if (media && media.audio) {
                const audioLink = document.createElement('a');
                audioLink.href = media.audio.url;
                audioLink.className = 'ml-4 bg-gray-200 text-gray-800 py-2 px-4 rounded-full inline-flex items-center hover:bg-gray-300 transition duration-300';
                audioLink.innerHTML = `<i class="fas fa-volume-up mr-2"></i> ${media.audio.name}`;
                audioLink.target = '_blank';
                container.appendChild(audioLink);
            }
        }

        function renderModuleMedia(media) {
            moduleMedia.innerHTML = '';
            if (media && media.image) {
                const img = document.createElement('img');
                img.src = media.image;
                img.alt = media.title;
                img.className = 'w-full max-h-64 object-cover rounded-lg mb-4';
                moduleMedia.appendChild(img);
            }
            renderMedia(media, moduleMedia);
        }

        function renderLessons(lessons) {
            lessonList.innerHTML = '';
            const lessonColors = ['bg-blue-500', 'bg-green-500', 'bg-yellow-500', 'bg-red-500', 'bg-purple-500', 'bg-teal-500'];
            const lessonKeys = Object.keys(lessons);
            lessonKeys.forEach((key, i) => {
                const lesson = lessons[key];
                const lessonCard = document.createElement('div');
                const color = lessonColors[i % lessonColors.length];
                lessonCard.className = `card p-6 text-center transform transition duration-300 hover:scale-105 hover:shadow-xl cursor-pointer ${color} text-white`;
                lessonCard.innerHTML = `
                    <i class="fas fa-graduation-cap text-3xl text-white mb-2"></i>
                    <h4 class="text-xl font-semibold">${lesson.title}</h4>
                `;
                lessonCard.onclick = () => showLesson(key);
                lessonList.appendChild(lessonCard);
            });
        }

        function showLesson(lessonId) {
            currentLesson = lessonId;
            const lesson = modules[currentModule].lessons[currentLesson];
            hideAllViews();
            const lessonView = lessonTemplate.cloneNode(true);
            lessonView.id = 'lesson-view';
            lessonView.classList.remove('hidden');
            lessonView.querySelector('#lesson-title').textContent = lesson.title;
            lessonView.querySelector('#lesson-content').innerHTML = lesson.content;
            
            const lessonMediaContainer = document.createElement('div');
            lessonMediaContainer.className = 'text-center mb-6';
            renderMedia(lesson.media, lessonMediaContainer);
            if (lessonMediaContainer.children.length > 0) {
                lessonView.querySelector('#lesson-content').prepend(lessonMediaContainer);
            }

            document.getElementById('app-container').appendChild(lessonView);
        }

        function showQuiz() {
            const quiz = modules[currentModule].lessons[currentLesson].quiz;
            if (!quiz) {
                alert('No hay quiz para esta lección.');
                return;
            }
            quizQuestions = quiz;
            currentQuestionIndex = 0;
            score = 0;
            hideAllViews();
            const quizView = quizTemplate.cloneNode(true);
            quizView.id = 'quiz-view';
            quizView.classList.remove('hidden');
            quizView.querySelector('#quiz-title').textContent = `Quiz: ${modules[currentModule].lessons[currentLesson].title}`;
            document.getElementById('app-container').appendChild(quizView);
            startTimer();
            renderQuestion();
        }

        function renderQuestion() {
            const questionData = quizQuestions[currentQuestionIndex];
            quizQuestionsContainer.innerHTML = '';

            const questionElement = document.createElement('div');
            questionElement.className = 'bg-white p-6 rounded-lg shadow-md space-y-4';
            questionElement.innerHTML = `<p class="text-lg font-medium">${currentQuestionIndex + 1}. ${questionData.question}</p>`;
            
            const optionsContainer = document.createElement('div');
            optionsContainer.className = 'space-y-2';

            if (questionData.type === 'multiple-choice') {
                questionData.options.forEach(option => {
                    const optionButton = document.createElement('button');
                    optionButton.textContent = option;
                    optionButton.className = 'quiz-option w-full text-left py-3 px-4 bg-gray-100 rounded-lg border-2 border-transparent hover:border-blue-500';
                    optionButton.onclick = () => checkAnswer(option, questionData.answer, optionButton);
                    optionsContainer.appendChild(optionButton);
                });
            } else if (questionData.type === 'true-false') {
                const trueButton = document.createElement('button');
                trueButton.textContent = 'Verdadero';
                trueButton.className = 'quiz-option w-full text-left py-3 px-4 bg-gray-100 rounded-lg border-2 border-transparent hover:border-blue-500';
                trueButton.onclick = () => checkAnswer(true, questionData.answer, trueButton);
                optionsContainer.appendChild(trueButton);
                
                const falseButton = document.createElement('button');
                falseButton.textContent = 'Falso';
                falseButton.className = 'quiz-option w-full text-left py-3 px-4 bg-gray-100 rounded-lg border-2 border-transparent hover:border-blue-500';
                falseButton.onclick = () => checkAnswer(false, questionData.answer, falseButton);
                optionsContainer.appendChild(falseButton);
            } else if (questionData.type === 'fill-in-the-blank') {
                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'w-full py-2 px-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500';
                input.placeholder = 'Escribe tu respuesta aquí...';
                const submitButton = document.createElement('button');
                submitButton.textContent = 'Enviar Respuesta';
                submitButton.className = 'bg-blue-500 text-white py-2 px-4 rounded-full mt-2 hover:bg-blue-600 transition duration-300';
                submitButton.onclick = () => checkAnswer(input.value.toLowerCase().trim(), questionData.answer.toLowerCase().trim(), submitButton);
                optionsContainer.appendChild(input);
                optionsContainer.appendChild(submitButton);
            }
            
            questionElement.appendChild(optionsContainer);
            quizQuestionsContainer.appendChild(questionElement);
            updateProgressBar();
        }
        
        function checkAnswer(userAnswer, correctAnswer, button) {
            const isCorrect = userAnswer === correctAnswer;
            if (isCorrect) {
                score++;
                if (button) {
                    button.classList.add('bg-green-200', 'border-green-500');
                    button.classList.remove('hover:border-blue-500');
                }
            } else {
                if (button) {
                    button.classList.add('bg-red-200', 'border-red-500');
                    button.classList.remove('hover:border-blue-500');
                }
            }
            
            Array.from(quizQuestionsContainer.querySelectorAll('button')).forEach(btn => {
                btn.disabled = true;
                btn.classList.add('disabled-button');
                if (btn.textContent.toLowerCase().trim() === String(correctAnswer).toLowerCase().trim()) {
                    btn.classList.add('bg-green-200', 'border-green-500');
                }
            });
            
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < quizQuestions.length) {
                    renderQuestion();
                } else {
                    endQuiz();
                }
            }, 1500);
        }

        function updateProgressBar() {
            const progressPercentage = (currentQuestionIndex / quizQuestions.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            progressText.textContent = `${currentQuestionIndex}/${quizQuestions.length}`;
        }
        
        function startTimer() {
            if (timerId) clearInterval(timerId);
            timeLeft = 900;
            timerElement.textContent = formatTime(timeLeft);
            timerId = setInterval(() => {
                timeLeft--;
                timerElement.textContent = formatTime(timeLeft);
                if (timeLeft <= 0) {
                    clearInterval(timerId);
                    endQuiz();
                }
            }, 1000);
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        function endQuiz() {
            clearInterval(timerId);
            quizQuestionsContainer.innerHTML = '';
            showResultsButton.classList.add('hidden');
            quizResults.classList.remove('hidden');
            
            const percentage = (score / quizQuestions.length) * 100;
            scoreText.innerHTML = `Tu puntuación es: <span class="font-bold text-blue-600">${score} / ${quizQuestions.length}</span> (${percentage.toFixed(0)}%)`;

            // Update user progress
            if (!userProgress[currentModule]) {
                userProgress[currentModule] = {};
            }
            userProgress[currentModule][currentLesson] = {
                score: score,
                total: quizQuestions.length,
                passed: percentage >= 70 // Example pass threshold
            };
            saveProgress();
        }

        function hideAllViews() {
            const views = [mainMenu, moduleView, lessonTemplate, quizTemplate, matchingGameTemplate];
            views.forEach(view => view.classList.add('hidden'));
            const dynamicViews = document.querySelectorAll('#lesson-view, #quiz-view');
            dynamicViews.forEach(view => view.remove());
        }

        function showBlockedMessage() {
            blockedModal.classList.remove('hidden');
        }

        function hideBlockedMessage() {
            blockedModal.classList.add('hidden');
        }

        function showAdminModal() {
            adminModal.classList.remove('hidden');
        }

        function hideAdminModal() {
            adminModal.classList.add('hidden');
        }

        function unlockModules() {
            const password = adminPasswordInput.value;
            if (password === 'douglas25') {
                isAllModulesUnlocked = true;
                saveProgress();
                hideAdminModal();
                showMainMenu();
            } else {
                adminMessage.textContent = 'Contraseña incorrecta. Inténtalo de nuevo.';
                adminMessage.className = 'text-red-500 text-sm mt-2';
                adminMessage.classList.remove('hidden');
            }
        }

        // Memory Game Logic
        const cardContainer = document.getElementById('card-container');
        let flippedCards = [];
        let matchedPairs = 0;
        let lockBoard = false;
        
        const vocabularyForGame = [
            { en: 'Hello', es: 'Hola' },
            { en: 'Goodbye', es: 'Adiós' },
            { en: 'Water', es: 'Agua' },
            { en: 'Food', es: 'Comida' },
            { en: 'Book', es: 'Libro' },
            { en: 'Pen', es: 'Bolígrafo' },
            { en: 'House', es: 'Casa' },
            { en: 'Car', es: 'Carro' },
            { en: 'Dog', es: 'Perro' },
            { en: 'Cat', es: 'Gato' }
        ];

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function setupMatchingGame() {
            cardContainer.innerHTML = '';
            matchedPairs = 0;
            const gameCards = shuffle([...vocabularyForGame, ...vocabularyForGame]);

            gameCards.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card-game relative';
                card.dataset.pair = item.en;
                card.innerHTML = `<span class="text-3xl font-bold">${item.en}</span>`;
                
                card.onclick = () => flipCard(card);
                cardContainer.appendChild(card);
            });
        }
        
        function flipCard(card) {
            if (lockBoard) return;
            if (card === flippedCards[0]) return;
            
            card.classList.add('flipped');
            card.querySelector('span').textContent = vocabularyForGame.find(v => v.en === card.dataset.pair).es;
            
            flippedCards.push(card);
            
            if (flippedCards.length === 2) {
                lockBoard = true;
                checkForMatch();
            }
        }
        
        function checkForMatch() {
            const [card1, card2] = flippedCards;
            const isMatch = card1.dataset.pair === card2.dataset.pair;
            
            if (isMatch) {
                card1.classList.add('matched');
                card2.classList.add('matched');
                matchedPairs++;
                if (matchedPairs === vocabularyForGame.length) {
                    setTimeout(() => {
                        const winMessage = document.createElement('div');
                        winMessage.className = 'text-center mt-6 text-2xl font-bold text-green-700';
                        winMessage.textContent = '¡Felicidades, has encontrado todas las parejas!';
                        cardContainer.appendChild(winMessage);
                    }, 500);
                }
                resetBoard();
            } else {
                setTimeout(() => {
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    card1.querySelector('span').textContent = card1.dataset.pair;
                    card2.querySelector('span').textContent = card2.dataset.pair;
                    resetBoard();
                }, 1000);
            }
        }

        function resetBoard() {
            flippedCards = [];
            lockBoard = false;
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadProgress();
            showMainMenu();
            unlockButton.addEventListener('click', unlockModules);
            adminPasswordInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    unlockModules();
                }
            });
            adminButton.addEventListener('click', showAdminModal);
        });
    </script>
</body>
</html>
