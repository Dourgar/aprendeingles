<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Inscripción Simple</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 font-sans antialiased text-gray-800 flex items-center justify-center min-h-screen">

    <div class="bg-white rounded-lg shadow-xl p-8 w-full md:w-1/2 lg:w-1/3">
        <h2 class="text-3xl font-bold text-center mb-6 text-blue-700">Formulario de Inscripción</h2>
        <form id="registrationForm" class="space-y-5">
            <div>
                <label for="regNombre" class="block text-gray-700 text-lg font-medium mb-2">Nombre:</label>
                <input type="text" id="regNombre" name="nombre" class="w-full px-5 py-3 border border-gray-300 rounded-lg" required>
            </div>
            <div>
                <label for="regApellido" class="block text-gray-700 text-lg font-medium mb-2">Apellido:</label>
                <input type="text" id="regApellido" name="apellido" class="w-full px-5 py-3 border border-gray-300 rounded-lg" required>
            </div>
            <div>
                <label for="regCorreo" class="block text-gray-700 text-lg font-medium mb-2">Correo Electrónico:</label>
                <input type="email" id="regCorreo" name="correo" class="w-full px-5 py-3 border border-gray-300 rounded-lg" required>
            </div>
            <button type="submit" class="w-full bg-blue-600 text-white py-3 px-6 rounded-lg text-xl font-bold hover:bg-blue-700 transition duration-200">
                Inscribirme
            </button>
        </form>
        <div id="statusMessage" class="mt-4 text-center text-lg font-medium hidden"></div>
    </div>

    <script>
        document.getElementById('registrationForm').addEventListener('submit', async function(event) {
            event.preventDefault();

            const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwXQWc5eBuRXYwL2_1nHPsXqdEiJ3L4MBf2IrI_G04mOXlCtmOZN4BJtt0vQnqmFkqA/exec";
            const form = event.target;
            const statusMessage = document.getElementById('statusMessage');

            const data = {
                nombre: form.regNombre.value,
                apellido: form.regApellido.value,
                correo: form.regCorreo.value
            };

            try {
                const response = await fetch(APPS_SCRIPT_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    statusMessage.textContent = '¡Inscripción exitosa!';
                    statusMessage.className = 'mt-4 text-center text-lg font-medium text-green-600';
                    form.reset();
                } else {
                    statusMessage.textContent = 'Error: ' + (result.error || 'No se pudo procesar la solicitud.');
                    statusMessage.className = 'mt-4 text-center text-lg font-medium text-red-600';
                }
            } catch (error) {
                console.error('Error al enviar la solicitud:', error);
                statusMessage.textContent = 'Ocurrió un error de conexión.';
                statusMessage.className = 'mt-4 text-center text-lg font-medium text-red-600';
            }
            statusMessage.style.display = 'block';
        });
    </script>

</body>
</html>
